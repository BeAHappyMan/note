

对于一些覆盖面积广或者门墙障碍物较多的需要网络覆盖的场所，单个路由器的信号难以覆盖到各个角落，多个路由器中继是一种能够Wi-Fi覆盖率的有效方式。A wireless repeater  refers a device that takes an existing signal from a wireless routeror wireless access point and rebroadcasts it to create a second network。相比于有线中继，无线中继不需要网线，更加灵活，因而渐渐成为了用户首选。

然而，在中继的过程中，会发生带宽失真的现象。Since only one wireless device can transmit at once, wireless transmissions are doubled (router to the repeater and then repeater to the client versus just router to the client), and so Wireless throughput is reduced by at least 50%. Furthermore, the quality of the connection to an extender is generally worse than if connected to the host access point.

现在越来越多的路由器设备支持双频发送数据，也就是2.4GHz和5Ghz。相比之下，2.4GHz穿墙能力更强，5Ghz抗干扰能力更强。用户可以根据自己的需求选择合适的频段进行中继。但双频路由器并没有提升中继带宽。如果能将两个频段的Wi-Fi融合中继，相比较于单频中继，路由器级联网络将更加稳定和高效。然而由于无线链路存在链路质量差异，需要制订一套合理的调度传输策略，才能充分利用双链路的传输带宽，避免质量差的链路拖累质量好的链路。

受到这样的启发，我们提出了，通过融合两条链路中继进而提高带宽。核心思想是，在ont侧，对每N个数据包进行一次调度，根据等待时间选择合适的链路发送数据包。

具体而言，本文的工作包括以下四点：

为了准备评估链路质量，我们提出了链路快慢因子用以计算数据包发送时间，并利用 卡尔曼滤波器对带宽进行预测。

为了选择合适的分组数据包大小，我们根据当前吞吐量，使用启发式的算法动态调整分组数据包大小。

为了减少双频发送导致的乱序，我们对数据包标号整序，并使用tcp代理技术减少乱序导致的发送降速。

我们在正式环境中实现了 并将其与其他方法作对比，验证 可以提高中继带宽。



相关工作



overview

链路质量感知与预估

网关路由器和中继路由器之间双频汇聚的场景可抽象成如图 3-3 所示模型，发送方和接收方有两条链路link1、link2，其中c1 和c2 分别代表link1 和link2 的信道容量，h1 和h2 代表可观测的信道质量参数矩阵，在本文的环境下，这些参数主要包括拥塞队列长度、链路服务时间、链路丢包率、链路吞吐量。如果link1 和link2 是有线链路，信道传输比较稳定，那么可以提前获知信道容量c1 和c2，根据容量为链路分配数据流量。然而无线环境经常受波动、多径衰落、移动性和竞争干扰的影响[12]，信道容量一直处于变化之中，无法提前预知，因此信道容量c 需要通过信道质量参数h 来进行表征。而如何选择参数进行表征是需要考虑的问题，选择的参数模型应具备实时体现链路质量的特性，好的参数模型能将数据包调度到合适链路提升汇聚效果，而参数模型不佳将可能导致汇聚链路吞吐量甚至低于单条链路。

design



中继需求

图
3-1是典型的 Wi-Fi双频中继环境，其中 网关路由器 和 中继路由器 之间通过无线双频进行中继，终端设备通过 中继路由器 的 AP（单频，且中继路由器的 5 GHz处理单元是网关路由器和终端设备共享的）接入无线局域网。现在虽然 网关路由器 和中继路由器 都支持并发双频，已经具备了使用 2.4 GHz和 5 GHz两个频段进行连接的条件，但是由于无线链路的不稳定性，若要充分发挥双频传输的特性，需要制定合理的链路感知及调度策略，才能保障双频传输能够实现吞吐量聚合的效果，本文的主要内容将围绕能提升聚合链路吞吐量的调度策略展开。本文双频传输的总体架构如图 3-2所示，汇聚传输主要是在无线路由器设备 Wi-Fi驱动上实现的，针对从 网关路由器 往 中继路由器 发的下行数据流 。 这里引入绑定效率 η的概念 绑定效率就是在输入稳定且流量足够大的情况下汇聚链路实际吞吐量 TP与各链路实际容量 ci之和的比值，即对两条链路的利用率，表示方式如公式

解决方案

